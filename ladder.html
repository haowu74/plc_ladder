<html>
  <head>
    <title>PLC Ladder Demo</title>
    <script src="./jquery-3.6.0.js"></script>
    <script src="./jquery-ui.min.js"></script>
    <link href="./ladder.css" rel="stylesheet" />
  </head>
  <body>
    <div id="root">
      <div data-reactroot>
        <div id="app">
          <div class="vertical-wrapper">
            <div class="toolbox">
              <div class="tools">
                <div class="ladder-element xic-template" draggable="true">
                  <div class="ladder-element-bool">
                    <input type="text" value="Variable" class="tag-name" readonly></input>
                    <div class="circuit-element">
                      <div class="wire wire-left">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="xic"></div>
                      <div class="wire wire-right">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="ladder-element xio-template" draggable="true">
                  <div class="ladder-element-bool">
                    <input type="text" value="Variable" class="tag-name" readonly></input>
                    <div class="circuit-element">
                      <div class="wire wire-left">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="xio"></div>
                      <div class="wire wire-right">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="ladder-element ote-template" draggable="true">
                  <div class="ladder-element-bool">
                    <input type="text" value="Variable" class="tag-name" readonly></input>
                    <div class="circuit-element">
                      <div class="wire wire-left">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="ote"></div>
                      <div class="wire wire-right">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="branch-logic branch-template" draggable="true" data-level="2">
                  <div class="short-wire">
                    <div class="wire-visible"></div>
                  </div>
                  <div class="branch-vertical" style="height: 58px"></div>
                  <div class="branch-rungs">
                    <div class="rung">
                      <div class="short-wire">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="wire">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="short-wire">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                    <div class="rung">
                      <div class="short-wire">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="wire">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="short-wire">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                  </div>
                  <div class="branch-vertical" style="height: 58px"></div>
                  <div class="short-wire">
                    <div class="wire-visible"></div>
                  </div>
                </div>
                <button onclick="addRung()">Add Rung</button>
                <button onclick="readFromJson()">Load</button>
                <input type="file" id="json_file" accept=".json" hidden />
                <button onclick="saveToJson()">Save</button>
                <div class="trash"><p>Trash</p></div>
              </div>
            </div>
            <div class="logic">
              <div class="power-pos"></div>
              <div class="rungs">
                <div class="rung" draggable="true">
                  <div class="short-wire">
                    <div class="wire-visible"></div>
                  </div>
                  <div class="branch-logic" draggable="true" data-level="2">
                    <div class="short-wire">
                      <div class="wire-visible"></div>
                    </div>
                    <div class="branch-vertical" style="height: 60px"></div>
                    <div class="branch-rungs">
                      <div class="rung" draggable="true">
                        <div class="short-wire">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="ladder-element" draggable="true">
                          <div class="ladder-element-bool">
                            <input type="text" value="X1" class="tag-name"></input>
                            <div class="circuit-element">
                              <div class="wire wire-left">
                                <div class="wire-visible"></div>
                              </div>
                              <div class="xic"></div>
                              <div class="wire wire-right">
                                <div class="wire-visible"></div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="wire">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="short-wire">
                          <div class="wire-visible"></div>
                        </div>
                      </div>
                      <div class="rung" draggable="true">
                        <div class="short-wire">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="ladder-element" draggable="true">
                          <div class="ladder-element-bool">
                            <input type="text" value="X2" class="tag-name"></input>
                            <div class="circuit-element">
                              <div class="wire wire-left">
                                <div class="wire-visible"></div>
                              </div>
                              <div class="xic"></div>
                              <div class="wire wire-right">
                                <div class="wire-visible"></div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="wire">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="short-wire">
                          <div class="wire-visible"></div>
                        </div>
                      </div>
                    </div>
                    <div class="branch-vertical" style="height: 60px"></div>
                    <div class="short-wire">
                      <div class="wire-visible"></div>
                    </div>
                  </div>
                  <div class="ladder-element" draggable="true">
                    <div class="ladder-element-bool">
                        <input type="text" value="X3" class="tag-name"></input>
                      <div class="circuit-element">
                        <div class="wire wire-left">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="xio energized"></div>
                        <div class="wire wire-right">
                          <div class="wire-visible"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="wire"><div class="wire-visible"></div></div>
                  <div class="ladder-element" draggable="true">
                    <div class="ladder-element-bool">
                        <input type="text" value="Y1" class="tag-name"></input>
                      <div class="circuit-element">
                        <div class="wire wire-left">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="ote"></div>
                        <div class="wire wire-right">
                          <div class="wire-visible"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="short-wire"><div class="wire-visible"></div></div>
                </div>
                <div class="rung" draggable="true">
                  <div class="short-wire">
                    <div class="wire-visible"></div>
                  </div>
                  <div class="branch-logic" draggable="true" data-level="2">
                    <div class="short-wire">
                      <div class="wire-visible"></div>
                    </div>
                    <div class="branch-vertical" style="height: 60px"></div>
                    <div class="branch-rungs">
                      <div class="rung" draggable="true">
                        <div class="short-wire">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="wire">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="short-wire">
                          <div class="wire-visible"></div>
                        </div>
                      </div>
                      <div class="rung" draggable="true">
                        <div class="short-wire">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="wire">
                          <div class="wire-visible"></div>
                        </div>
                        <div class="short-wire">
                          <div class="wire-visible"></div>
                        </div>
                      </div>
                    </div>
                    <div class="branch-vertical" style="height: 60px"></div>
                    <div class="short-wire">
                      <div class="wire-visible"></div>
                    </div>
                  </div>
                  <div class="wire">
                    <div class="wire-visible"></div>
                  </div>
                  <div class="short-wire">
                    <div class="wire-visible"></div>
                  </div>
                </div>
              </div>
              <div class="power-neg"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="./ladder.js"></script>
  </body>
</html>
