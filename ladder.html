<html>
  <head>
    <title>PLC Ladder Demo</title>
    <script src="./jquery-3.6.0.js"></script>
    <link href="./ladder.css" rel="stylesheet" />
  </head>
  <body>
    <div id="root">
      <div data-reactroot>
        <div id="app">
          <div class="vertical-wrapper">
            <div class="toolbox">
              <div class="tools">
                <div class="ladder-element xic-template" draggable="true">
                  <div class="ladder-element-bool">
                    <input type="text" value="Variable" class="tag-name" onchange="changeTagName(event)" readonly></input>
                    <div class="circuit-element">
                      <div class="wire wire-left">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="xic"></div>
                      <div class="wire wire-right">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="ladder-element xio-template" draggable="true">
                  <div class="ladder-element-bool">
                    <input type="text" value="Variable" class="tag-name" onchange="changeTagName(event)" readonly></input>
                    <div class="circuit-element">
                      <div class="wire wire-left">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="xio"></div>
                      <div class="wire wire-right">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="ladder-element ote-template" draggable="true">
                  <div class="ladder-element-bool">
                    <input type="text" value="Variable" class="tag-name" onchange="changeTagName(event)" readonly></input>
                    <div class="circuit-element">
                      <div class="wire wire-left">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="ote"></div>
                      <div class="wire wire-right">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="branch-logic branch-template" draggable="true" data-level="2">
                  <div class="short-wire">
                    <div class="wire-visible"></div>
                  </div>
                  <div class="branch-vertical" style="height: 58px"></div>
                  <div class="branch-rungs">
                    <div class="rung">
                      <div class="short-wire">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="wire">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="short-wire">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                    <div class="rung">
                      <div class="short-wire">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="wire">
                        <div class="wire-visible"></div>
                      </div>
                      <div class="short-wire">
                        <div class="wire-visible"></div>
                      </div>
                    </div>
                  </div>
                  <div class="branch-vertical" style="height: 58px"></div>
                  <div class="short-wire">
                    <div class="wire-visible"></div>
                  </div>
                </div>
                <button onclick="addRung()">Add Rung</button>
                <button onclick="document.getElementById('json_file').click()" id="load_file">Load</button>
                <form id="load-file-form" style="display: none" action="#" onsubmit="readFromJson(event)">
                    <input type="file" id="json_file" accept=".json" onchange="document.getElementById('load-file-form').requestSubmit()" />
                    <input type="submit">
                </form>
                <button onclick="saveToJson()">Save</button>
                <div class="trash"><p>Trash</p></div>
              </div>
            </div>
            <div class="logic">
              <div class="power-pos"></div>
              <div class="rungs">
               <!-- Insert the rungs here -->
              </div>
              <div class="power-neg"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="./ladder.js"></script>
  </body>
</html>
